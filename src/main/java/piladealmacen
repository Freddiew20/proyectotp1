package piladealmacen;

public class Almacen {
	
	private Pale[] pales = new Pale[1000];
	private int posicion;
	private double totalPeso;
	private int totalCajas;
	
	public void menu(){
		int opcion = 0;
		do{
		
			System.out.println("----------MEN�----------");
			System.out.println("1. A�adir pal�.");
			System.out.println("2. Quitar pal�.");
			System.out.println("3. Mostrar pal�.");
			System.out.println("4. Mostrar totales.");
			System.out.println("0. Salir");
			
			opcion = PedirDatos.leerEntero("Elija una opci�n");
			
			switch (opcion) {
			case 1:
				addPale();
				break;
			case 2:
				quitarPale();
				break;
			case 3:
				mostrarPale();
				break;
			case 4:
				mostrarPale();
				break;
			case 0:
				System.out.println("Adi�s!!!!!");
				break;
				
	
			default:
				System.out.println("Por favor, elija un n�mero de 1 al 4.");
				break;
		}
		
		}while(opcion!=0);
	}

	private void mostrarPale() {
		
		Pale a = new Pale();
		int codaux = PedirDatos.leerEntero("Introduzca el c�digo del pal� que desea mirar.");
		
		for (int i = posicion-1; i >= 0; i--) {
			if(pales[i].getCodigo().equals(codaux)){
				System.out.println(pales[i]);
				return;
			}
			
		}
		System.out.println("El c�digo introducido no corresponde a ning�n pal�.");
	}

	private void quitarPale() {
		
	}

	private void addPale() {
		System.out.println("Introduzca los datos del pal� que desea introducir:");
		Pale a = new Pale();
		a.PedirPale();
		
		for (int i = posicion-1; i >= 0; i--) {
			if(a.getCodigo().equals(pales[i])){
				System.out.println("Lo sentimos, pero el pal� que intenta introducir ya se encuentra en la pila.");
				return;
			}
			pales[posicion]=a;
			posicion++;
			
		}
	}
	
	public void recorrer(){
		for (int i = 0; i < pales.length; i++) {
			System.out.println(pales[i]);
		}
	}
	
	
}

package piladealmacen;

public class Pale {

	private String codigo;
	private double peso;
	private int numeroCajas;
	
	public Pale(String codigo, double peso, int numeroCajas) {
		
		this.codigo = codigo;
		this.peso = peso;
		this.numeroCajas = numeroCajas;
	}

	public Pale() {
		
	}

	public String getCodigo() {
		return codigo;
	}

	public void setCodigo(String codigo) {
		this.codigo = codigo;
	}

	public double getPeso() {
		return peso;
	}

	public void setPeso(double peso) {
		this.peso = peso;
	}

	public int getNumeroCajas() {
		return numeroCajas;
	}

	public void setNumeroCajas(int numeroCajas) {
		this.numeroCajas = numeroCajas;
	}

	//M�todo equals
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		Pale other = (Pale) obj;
		if (codigo == null) {
			if (other.codigo != null)
				return false;
		} else if (!codigo.equals(other.codigo))
			return false;
		if (numeroCajas != other.numeroCajas)
			return false;
		if (Double.doubleToLongBits(peso) != Double.doubleToLongBits(other.peso))
			return false;
		return true;
	}
	
	public void PedirPale(){
		
		this.codigo = PedirDatos.leerCadena("Introduzca el c�digo del pal�.");
		this.peso = PedirDatos.leerDecimal("Introduzca el peso del pal�.");
		this.numeroCajas = PedirDatos.leerEntero("Introduzca el n�mero de cajas que contiene el pal�.");
		
	}
	
	public void PedirPale(String codigo){
		
		this.codigo = codigo;
		this.peso = PedirDatos.leerDecimal("Introduzca el peso del pal�.");
		this.numeroCajas = PedirDatos.leerEntero("Introduzca el n�mero de cajas que contiene el pal�.");
		
	}
	
	
	
}

package piladealmacen;

import java.io.IOException;

public class PedirDatos {
	
	static char leerCaracter(String frase) throws IOException {
		char caracter;
		int ascii=0;
		int enter=0;
		int numcaracteres=0;
		do{
			if(numcaracteres!=0){
				System.out.println("Solo debe de introducir un caracter");
				numcaracteres=0;
			}
			System.out.println(frase);
			ascii = System.in.read();
			do{
				numcaracteres++;
				enter=System.in.read();
			}while(enter!=13);
			System.in.read();
		}while(numcaracteres>1);
		caracter = (char)ascii;
		return caracter;
	}
	
	static String leerCadena(String frase){
		try{
			System.out.println(frase);
			String cadena="";
			int ascii=0;
			char caracter;
			do{
				ascii = System.in.read();
				caracter = (char)ascii;
				cadena=cadena+caracter;
			}while(ascii!=13);
			System.in.read();
			return cadena.trim();
		}catch (IOException e) {
			System.out.println("error de I/O");
			return "";
		}
	}
	
	static int leerEntero(String frase){
		int entero=0;
		boolean salir=false;
		do{
			try{
				entero=Integer.parseInt(leerCadena(frase));
				salir=true;
			}catch (NumberFormatException e) {
				System.out.println("Debe introducir un entero");
			}
		}while(!salir);
		return entero;
	}
	
	static double leerDecimal(String frase){
		double decimal=0;
		boolean salir = false;
		do {
			try{
				decimal=Double.parseDouble(leerCadena(frase));
				salir=true;
			}catch (NumberFormatException e) {
				System.out.println("Debe introducir un decimal");
			}
		} while (!salir);
		return decimal;
	}
}

package piladealmacen;

public class TestAlmacen {

	public static void main(String[] args) {
		
		Almacen a = new Almacen();
		a.menu();
		
	}

}
